var __hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};!function(a){return a(function(a){var b,c,d,e,f,g,i;return e='/*zl-popup stylesheet*/.zl-popup *{ -webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box; font-size:12px; line-height:24px;} .fade { opacity: 0; -webkit-transition: opacity .2s linear; transition: opacity .2s linear; }.zl-popup-open {overflow: hidden;}.zl-popup.in {opacity: 1;background: rgba(0, 0, 0, 0.4);}.zl-popup {position: fixed;top: 0;right: 0;bottom: 0;left: 0;z-index: 1001;display: none;overflow: auto;overflow-y: scroll;outline: none;}.zl-popup-dialog {width: 600px;margin: 30px auto;position: relative;z-index: 1002;}.zl-popup-content {position: relative;background-color: #fff;border: 1px solid rgba(0, 0, 0, 0.2);outline: 0;background-clip: padding-box;-webkit-box-shadow:0 5px 15px rgba(0, 0, 0, 0.5);box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);}.zl-popup-header {min-height: 16px;padding: 6px 15px;border-bottom: 1px solid #e5e5e5;}.zl-popup-header button.close {float: right;font-size: 21px;font-weight: bold;line-height: 1;color: #000;text-shadow: 0 1px 0 #fff;opacity: .2;filter: alphaopacity=20);padding: 0;cursor: pointer;background: transparent;border: 0;-webkit-appearance: none;}.zl-popup-title {margin: 0;line-height: 24px;font-size: 14px;}.zl-popup-header .close {margin-top: -2px;}.zl-popup-body {position: relative;padding: 8px 20px;}.zl-popup-footer {padding: 6px 20px;text-align: right;border-top: 1px solid #e5e5e5;}.zl-popup-footer .btn + .btn {margin-bottom: 0;margin-left: 5px;}.zl-popup.fade > div {-webkit-transform: translate(0, -25%);-ms-transform: translate(0, -25%);transform: translate(0, -25%);-webkit-transition: -webkittransform 0.3s ease-out;-moz-transition: -moz-transform 0.3s ease-out;-o-transition: -o-transform 0.3s ease-out;transition: transform 0.3s ease-out;}.zl-popup.in > div {-webkit-transform: translate(0, 0);-ms-transform: translate(0, 0);transform: translate(0, 0);}/* city list stylesheet */.list-group {margin-bottom: 20px;padding-left: 0;position: relative;}.list-group-item {position: relative;display: block;padding: 3px 15px;margin-bottom: -1px;background-color: #ffffff;border: 1px solid #dddddd;text-decoration:none;font-size:12px;line-height:24px;}.list-group-item:first-child {border-top-right-radius: 4px;border-top-left-radius: 4px;}.list-group-item:last-child {margin-bottom: 0;border-bottom-right-radius: 4px;border-bottom-left-radius: 4px;}.list-group-item > .badge {float: right;}.list-group-item > .badge + .badge {margin-right: 5px;}a.list-group-item {color: #555555;}a.list-group-item .list-group-item-heading {color: #333333;}a.list-group-item.hover,a.list-group-item:hover {text-decoration: none;background-color: #f5f5f5;}a.list-group-item.active,a.list-group-item.active:hover {z-index: 2;color: #ffffff;background-color: #428bca;border-color: #ffffff;}#Z-cityInterface h3 {background-color: #edf7ff;color: #38599E;padding: 5px 10px;margin:0;}#Z-cityInterface .zl-city-tree {position: relative;padding: 10px 0;overflow-y: scroll;}#Z-cityInterface .zl-city-tree:before,#Z-cityInterface .zl-city-tree:after {content: " ";/* 1 */display: table;/* 2 */}#Z-cityInterface .zl-city-tree:after {clear: both;}#Z-cityInterface .zl-city-tree.zl-city-tree-readonly:before {content: " ";position: absolute;top: 0;left: 0;width: 100%;height: 500px;z-index: 1002;}#Z-cityInterface .zl-city-tree a.list-group-item b {width: 0;height: 0;border-width: 5px 0 5px 6px;border-color: transparent transparent transparent#428bca;border-style: solid;position: absolute;right: 10px;top: 9px;}#Z-cityInterface .zl-city-tree a.list-group-item.active b {border-left-color: #fff;}#Z-cityInterface .zl-city-tree a.list-group-item.hover b,#Z-cityInterface .zl-city-tree a.list-group-item.hover.active b {width: 10px;height: 10px;border: none;background: #2fe2bf;border-radius: 50%;}#Z-cityInterface .zl-city-tree > div {float: left;max-height: 500px;width: 25%;}#Z-cityInterface .zl-city-ctn {padding: 10px 0 0 10px;min-height: 44px;}#Z-cityInterface .zl-city-ctn > span.tag {border-radius: 4px;background: #428bca;color: #ffffff;cursor: pointer;margin: 0 3px 3px 0;overflow: hidden;padding:2px 8px 2px 15px;position: relative;vertical-align: middle;display: inline-block;zoom: 1;-webkit-transition: 0.14s linear;transition: 0.14s linear;}#Z-cityInterface .zl-city-ctn > span.tag > a {color: white;cursor: pointer;font-size: 12px;opacity: 0;padding: 2px 7px 0 0;position: absolute;bottom: 0;right:0;top: 0;text-align: right;text-decoration: none;z-index: 2;display: none9;}#Z-cityInterface .zl-city-ctn > span.tag:hover {background-color: #3498db;padding-left: 8px;padding-right: 15px;}#Z-cityInterface .zl-city-ctn > span.tag:hover > a {color: white;opacity: 1;}.zl-popup-footer .btn {display: inline-block;margin-bottom: 0;font-weight: normal;text-align: center;vertical-align: middle;cursor: pointer;padding: 0 10px;font-size: 12px;line-height: 24px;border: none;outline: none;background: #ccc;color: white;text-decoration: none;-webkit-transition: 0.25s;transition: 0.25s;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;}.zl-popup-footer .btn.btn-info {background-color: #2980b9;}.zl-popup-footer .btn.btn-info:hover,.zl-popup-footer .btn.btn-info:focus {background-color: #3498db;}',f=document.createElement("style"),f.type="text/css",f.rel="stylesheet",f.styleSheet?f.styleSheet.cssText=h:f.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(f),g=Array.prototype.slice,i={isString:function(a){return"[object String]"===toString.call(a)},isNumber:function(a){return"[object Number]"===toString.call(a)},isArray:function(a){return"[object Array]"===toString.call(a)},isFunction:function(a){return"[object Function]"===toString.call(a)},isBoolean:function(a){return"[object Boolean]"===toString.call(a)},isObject:function(a){return a===Object(a)},isEmpty:function(a){var b;if(null===a)return!0;if(this.isArray(a)||this.isString(a))return 0===a.length;for(b in a)if(b in a)return!1;return!0},isDefined:function(){return"undefined"!=typeof arguments[0]},keys:function(a){var b;if(Object.keys)return Object.keys(a);if(a!==Object(a))throw new TypeError("Invalid object");b=[];for(var c in a)i.has(a,c)&&b.push(c);return b},each:function(a,b,c){if(null!==a){if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)==={})return}else for(var f=i.keys(a),d=0,e=f.length;e>d;d++)if(b.call(c,a[f[d]],f[d],a)==={})return;return!0}},extend:function(a){return i.each(g.call(arguments,1),function(b){var c,d;if(b){d=[];for(c in b)d.push(a[c]=b[c]);return d}}),a},without:function(a){return i.difference(a,g.call(arguments,1))},difference:function(a){var b;return b=concat.apply(ArrayProto,g.call(arguments,1)),i.filter(a,function(a){return!i.contains(b,a)})},filter:function(){return function(a,b,c){var d;return d=[],null===a?d:nativeFilter&&a.filter===nativeFilter?a.filter(b,c):(i.each(a,function(a,e,f){return b.call(c,a,e,f)?d.push(a):void 0}),d)}}},d=function(){function b(){}return b.prototype.initialize=function(){return this.events&&this._bindEvents(),this.listens&&this._bindListens()},b.prototype._bindEvents=function(){return i.each(this.events,this._bind,this)},b.prototype._bindListens=function(){return this.model?this.model.events=this.listens:void 0},b.prototype._bind=function(b,c){var d,e;return e=this,i.isFunction(b)?(d=c.split(" "),1===d.length?this.$el.on(d[0],function(a){return b.call(this,a,e),a.stopPropagation(),!1}):this.$el.on(d.shift(),1===d.length?d[0]:d.join(" "),function(a){return b.call(this,a,e),a.stopPropagation(),!1})):this[b]?(d=c.split(" "),1===d.length?this.$el.on(d[0],function(c){return e.oTarget=a(this),c.stopPropagation(),e[b]()}):this.$el.on(d.shift(),1===d.length?d[0]:d.join(" "),function(c){return e.oTarget=a(this),c.stopPropagation(),e[b]()})):console.warn(b+"方法不存在")},b.prototype.$=function(){return this.$el.find(arguments[0])},b}(),c=function(b){function c(){this.initialize.apply(this,arguments)}var d,e;return __extends(c,b),d=0,e=0,c.prototype.initialize=function(a){return this.template=a.tmpl,this.options=this.getOptions(a),this.isOpen=!1,this.$el=this.createDialog(),this.options.drag&&this.$el.find(".zl-popup-title").css("cursor","move").on("mousedown",function(a){return function(b){return a.mouseDown(b)}}(this)),this.options.lock&&this.$el.on("keyup",function(a){return function(b){return 27===b.keyCode?a.close():void 0}}(this)),this.$el.on("click",".Close",function(a){return function(){return a.close()}}(this)),c.__super__.initialize.apply(this,arguments)},c.prototype.getOptions=function(a){var b;return b={drag:!0,lock:!0,callback:null,success:null,title:"这是一个弹层",cancel:!1,width:600},null!=a&&(delete a.data,i.extend(b,a)),b},c.prototype.setPosition=function(a){return a.css({marginTop:-this.$el.outerHeight()/2,marginLeft:-this.$el.outerWidth()/2})},c.prototype.createDialog=function(){var b,c,d,e;return e=this.options.title,b=this.options.width,d='<div class="zl-popup fade" tabindex="-1"><div class="zl-popup-dialog" style="width: '+b+'px;"><div class="zl-popup-content"><div class="zl-popup-header"><button type="button" class="close Close">&times;</button><h4 class="zl-popup-title">'+e+'</h4></div><div class="zl-popup-body"></div><div class="zl-popup-footer">'+(this.options.cancel?'<button type="button" class="btn btn-default Close">取消</button>':"")+'<button type="button" class="btn btn-info '+(this.options.cancel?"":"Close")+'">确定</button></div></div><!-- /.zl-popup-content --></div><!-- /.zl-popup-dialog --></div><!-- /.zl-popup -->',c=a(d),this.template?c.find(".zl-popup-body").html(this.template):this.$el.appendTo(c.find(".zl-popup-body")),c.appendTo("body")},c.prototype.open=function(){var b;return b=this.data||this.model.data,b.id&&(location.hash=b.id),a("body").addClass("zl-popup-open"),this.$el.show(),setTimeout(function(a){return function(){return a.$el.addClass("in").focus()}}(this),0),this.isOpen=!0,this},c.prototype.close=function(){var b,c,d;return d=this.options,b=this.data||this.model.data,c=this.$el,b.id&&history.replaceState(null,top.document.title,"#"),a("body").removeClass("zl-popup-open"),c.removeClass("in"),setTimeout(function(a){return function(){var b;return c.hide(),null!=(b=d.callback)?b.call(a):void 0}}(this),300),this.isOpen=!1},c.prototype.renderAgain=function(){return this.$el.find(".zl-popup-body").html(this.template),this},c.prototype.updateOption=function(a,b){return i.isString(a)?this.options[a]=b:i.isObject(a)&&i.extend(this.options,a),this},c.prototype.mouseDown=function(b){var c;return c=this,d=b.pageX-this.$el.children().offset().left,e=b.pageY-this.$el.children().offset().top,a(document).on("mousemove",function(a){return function(b){return a.mouseMove(b)}}(this)),a(document).on("mouseup",this.mouseUp),!1},c.prototype.mouseMove=function(a){var b,c;return b=a.pageX-d,c=a.pageY-e,this.$el.children().offset({left:b,top:c})},c.prototype.mouseUp=function(){return a(document).off("mousemove").off("mouseup")},c}(d),b=function(b){function c(a){a&&i.isObject(a)?(this.updateConfig(a),this.initialize(a)):console.error("CitySelection需要配置参数才能初始化！")}var d,e;return __extends(c,b),e={},d=null,c.author="leozhao",c.version="1.1.1",c.settings={style:"default",success:"数据提交配置；此配置是一个function，将被调用于实例的getData方法内，参数为当前界面的所有选择城市数据",search:"{boolean}是否支持长列表搜索模式，未开放",debug:"{boolean}是否记录log，未开放"},c.vlog=[],c.prototype.events={"click .popup-footer .btn-info":"success","click .tag":"showPaving","click .zl-cc-del-btn":"kick","click .zl-cc-code":"codeSelect","click .zl-cc-province":"provinceSelect","click .zl-cc-level":"levelSelect","click .zl-cc-country":"countrySelect","click .zl-cc-city":"citySelect","mouseenter .zl-cc-code":function(a,b){return d&&clearTimeout(d),d=setTimeout(function(){return b.codeChange(a.target)},250)},"mouseenter .zl-cc-province":function(a,b){return d&&clearTimeout(d),d=setTimeout(function(){return b.provinceChange(a.target)},250)},"mouseenter .zl-cc-level":function(a,b){return d&&clearTimeout(d),d=setTimeout(function(){return b.levelChange(a.target)},250)},"mouseleave .list-group":function(){return d&&clearTimeout(d)}},c.prototype.liMap={code:function(a,b){return'<a href="javascript:;" class="list-group-item zl-cc-code zl-cc-code-'+a.id+(b&&b[a.id]?" active":"")+'" data-id="'+a.id+'">'+a.name+"<b></b></a>"},country:function(a,b){var c;return c=a.name||a.ename,'<a href="javascript:;" class="list-group-item zl-cc-country'+(b&&b.indexOf(c)>-1?" active":"")+'" title="'+a.ename+'">'+c+"</a>"},province:function(a,b){return'<a href="javascript:;" class="list-group-item zl-cc-province zl-cc-province-'+a.id+(b&&b[a.id]?" active":"")+'" data-id="'+a.id+'">'+a.name+"<b></b></a>"},level:function(a,b){return'<a href="javascript:;" class="list-group-item zl-cc-level zl-cc-level-'+a.id+(b&&b[a.id]?" active":"")+'" data-id="'+a.id+'">'+a.name+"<b></b></a>"},city:function(a,b){return'<a href="javascript:;" class="list-group-item zl-cc-city'+(b&&b.indexOf(a)>-1?" active":"")+'" >'+a+"</a>"},search:function(a){return'<a href="javascript:;"><input type="text" class="list-group-item '+a+'_search" name="'+a+'_search" style="width:100px;height:22px;border:none;outline:none;margin-left: -5px; padding:0 5px;" placeholder="输入检索字段"></a>'}},c.prototype.initialize=function(){return this.nodes=[],this.data={province:0,level:0,code:0},this.mergeData={},this.__root__=c,this.record=[],c.__super__.initialize.call(this,{title:"城市选择",tmpl:'<h3>已选择区域:</h3><div class="zl-city-ctn"></div><h3>区域选择列表:</h3><div class="zl-city-tree"></div>',cancel:!0}),this.$el.attr("id","Z-cityInterface")},c.prototype.updateConfig=function(a){var b,d,f,g;for(this.config={},g=c.settings,d=0,f=g.length;f>d;d++)b=g[d],a[b]&&(this.config[b]=a[b]);return a.tree?(e=a.tree||{},delete a.tree):void 0},c.prototype.showPaving=function(){var a,b;if(b=this.oTarget,a={code:b.data("c"),province:b.data("p"),level:b.data("l")},a.code===this.data.code){if(1===a.code){if(a.province!==this.data.province)return i.extend(this.data,a),this.provinceChange().levelChange();if(a.level!==this.data.level)return this.data.level=a.level,this.levelChange()}else if(3===a.code)return this.countryChange(b.data("ci"))}else{if(i.extend(this.data,a),this.codeChange(),1===a.code)return this.provinceChange().levelChange();if(3===a.code)return this.countryChange(b.data("ci"))}},c.prototype.kick=function(){var a,b,c;return c=this.oTarget.parent(),a=!1,b={code:c.data("c"),province:c.data("p"),level:c.data("l")},this.updateMergeData(c.data("ci"),b),c.remove(),this.paving(b),i.isEmpty(this.mergeData)?this.$(".zl-city-ctn").html("无已选择地区"):void 0},c.prototype.success=function(){return this.close().config.success&&this.config.success(this.explode())},c.prototype.print=function(){var a,b;return b="",a=this.readonly?"":'<a class="zl-cc-del-btn" href="javascript:;">x</a>',i.each(this.explode(),function(c){return function(d){return b+='<span class="tag" data-c="'+d.large_region_code+'" data-p="'+(d.province_name||0)+'" data-l="'+(d.city_level||0)+'" data-ci="'+(d.city_name||d.country_name||"")+'"><span>'+c.translate(d)+"&nbsp;&nbsp;</span>"+a+"</span>"}}(this)),this.$(".zl-city-ctn").html(b||"无已选择地区"),this},c.prototype.translate=function(a){var b,c;switch(c={},b="",a.large_region_code){case 1:b="大陆",a.province_name&&(b=e[1].provinces[a.province_name].name,a.city_level&&(b+=[0,"一线","二线","三线","四线","五线"][a.city_level]));break;case 2:b="港澳台";break;case 3:b="海外",a.country_name&&(b=a.country_name)}return a.city_name&&(b=a.city_name),b},c.prototype.combine=function(a){var b,c;return b={},a?(c={1:function(a){return b[1]||(b[1]={}),a.province_name>0&&(b[1][a.province_name]||(b[1][a.province_name]={}),a.city_level>0&&(b[1][a.province_name][a.city_level]||(b[1][a.province_name][a.city_level]=[]),a.city_name))?b[1][a.province_name][a.city_level].push(a.city_name):void 0},2:function(a){return b[2]||(b[2]=[]),a.city_name?b[2].push(a.city_name):void 0},3:function(a){return b[3]||(b[3]=[]),a.country_name?b[3].push(a.country_name):void 0}},i.each(a,function(a){return c[a.large_region_code](a)})):(console.error("combine方法出现错误: 参数不能为空"),console.trace()),b},c.prototype.explode=function(){var a,b,c;return b=[],a=function(a,c,d,e){var f;return f={1:function(){return{large_region_code:+a,province_name:+c||0,city_level:+d||0,city_name:e||""}},2:function(){return{large_region_code:+a,city_name:c||""}},3:function(){return{large_region_code:+a,country_name:c||""}}},a&&b.push(f[a]())},g=Array.prototype.slice,(c=function(b){var d;return d=g.call(arguments,1),i.isArray(b)?b.length?i.each(b,function(b){return a.apply(this,d.concat(b))}):a.apply(this,d):i.isObject(b)?i.isEmpty(b)?a.apply(this,d):i.each(b,function(a,b){return c.apply(this,[a].concat(d).concat([b]))}):console.error("递归函数出现错误，请检查mergeData数据正确性！")})(this.mergeData),b},c.prototype.initCityList=function(a,b,c){if(i.isBoolean(b)?(this.readonly=b,c&&(this.config.success=c)):i.isFunction(b)&&(this.readonly=!1,this.config.success=b),a){if(0===a.length&&this.readonly)return!0;this.mergeData=this.combine(a)}return this.readonly&&this.$(".zl-city-tree").addClass("zl-city-tree-readonly"),this.$(".zl-city-tree").html(this.createDom(e,this.mergeData)),this.print().open(),this},c.prototype.codeChange=function(b){var c,d;return b?(b=this.oTarget=a(b),d=+b.attr("data-id"),i.extend(this.data,{province:0,level:0,code:d})):(d=this.data.code)&&(this.oTarget=this.$(".zl-cc-code").eq(d-1)),c={1:function(){return this.render(e[1].provinces,this.mergeData[1],"province")},2:function(){return this.render(e[2].citys,this.mergeData[2],"city")},3:function(){return this.render(e[3].countrys,this.mergeData[3],"country")}}[d],c&&c.call(this),this.$(".list-group").eq(1).css("top",this.oTarget.position().top),delete this.oTarget,this},c.prototype.provinceChange=function(b){var c,d,f,g,h;if(b)b=this.oTarget=a(b),f=+b.attr("data-id"),i.extend(this.data,{province:f,level:0});else{if(!(f=this.data.province))return this;this.oTarget=this.$(".zl-cc-province-"+f),h=this.$(".zl-city-tree"),d=this.oTarget.position().top+this.oTarget.height()-10,d<h.scrollTop()?h.scrollTop(d):d>h.scrollTop()+500&&h.scrollTop(d-500)}try{(g=this.mergeData[1])&&(g=g[f]),this.render(e[1].provinces[f].levels,g,"level"),this.$(".list-group").eq(2).css("top",this.oTarget.position().top),delete this.oTarget}catch(j){c=j,console.log(c)}return this},c.prototype.levelChange=function(b){var c,d,f;if(b)b=this.oTarget=a(b),this.data.level=d=+b.attr("data-id");else{if(!(d=this.data.level))return this;this.oTarget=this.$(".zl-cc-level-"+d)}try{(f=this.mergeData[1])&&(f=f[this.data.province])&&(f=f[d]),this.render(e[1].provinces[this.data.province].levels[d].citys,f,"city"),this.$(".list-group").eq(3).css("top",this.oTarget.position().top+1*this.$(".list-group").eq(2).css("top").slice(0,-2))}catch(g){c=g,console.log(c)}return this},c.prototype.countryChange=function(b){var c;return c=this.$(".list-group").last(),c.find(".active").each(function(){var d;return a(this).html()===b?(d=a(this).position().top,console.log(d,this),d>500?c.scrollTop(c.scrollTop()+d-500+a(this).outerHeight()):0>d&&c.scrollTop(c.scrollTop()+d),!1):!0})},c.prototype.codeSelect=function(){return this.updateMergeData().paving().print()},c.prototype.provinceSelect=function(){return this.updateMergeData().paving().print()},c.prototype.levelSelect=function(){return this.updateMergeData().paving().print()},c.prototype.countrySelect=function(){return this.updateMergeData(this.oTarget.text()).paving().print()},c.prototype.citySelect=function(){return this.updateMergeData(this.oTarget.text()).paving().print()},c.prototype.updateMergeData=function(a,b){var c,d,e;return e=b||this.data,d=this.mergeData,c={1:function(b,c){var e,f;if(!b)return d[1]&&i.isEmpty(d[1])?delete d[1]:d[1]={};if((f=d[1])||(f=d[1]={}),c)if(f=f[b]?f[b]:f[b]={},a){if(f=f[c]?f[c]:f[c]=[],e=f.indexOf(a),-1===e)return f.push(a);if(f.splice(e,1),!f.length&&(delete d[1][b][c],i.isEmpty(d[1][b])&&(delete d[1][b],i.isEmpty(d[1]))))return delete d[1]}else{if(!f[c]||0!==f[c].length)return f[c]=[];if(delete f[c],i.isEmpty(f)&&(delete d[1][b],i.isEmpty(d[1])))return delete d[1]}else{if(!f[b]||!i.isEmpty(f[b]))return f[b]={};if(delete f[b],i.isEmpty(f))return delete d[1]}},2:function(){var b,c;return a?((c=d[2])||(c=d[2]=[]),b=c.indexOf(a),-1===b?c.push(a):(c.splice(b,1),c.length?void 0:delete d[2])):d[2]&&i.isEmpty(d[2])?delete d[2]:d[2]=[]},3:function(){var b,c;return a?((c=d[3])||(c=d[3]=[]),b=c.indexOf(a),-1===b?c.push(a):(c.splice(b,1),c.length?void 0:delete d[3])):d[3]&&i.isEmpty(d[3])?delete d[3]:d[3]=[]}}[e.code],c&&c(e.province,e.level),this},c.prototype.paving=function(){var b,c,d;return b=this.mergeData,d=this.data,c=arguments[0]||d,(b=b[c.code])?this.$(".zl-cc-code-"+c.code).addClass("active"):this.$(".zl-cc-code-"+c.code).removeClass("active"),c.code===d.code&&(1===c.code?i.isEmpty(b)?this.$(".zl-cc-province, .zl-cc-level, .zl-cc-city").removeClass("active"):((b=b[c.province])?this.$(".zl-cc-province-"+c.province).addClass("active"):this.$(".zl-cc-province-"+c.province).removeClass("active"),c.province===d.province&&(i.isEmpty(b)?this.$(".zl-cc-level,.zl-cc-city").removeClass("active"):((b=b[c.level])?this.$(".zl-cc-level-"+c.level).addClass("active"):this.$(".zl-cc-level-"+c.level).removeClass("active"),c.level===d.level&&(i.isEmpty(b)?this.$(".zl-cc-city").removeClass("active"):this.$(".zl-cc-city").each(function(){return-1===b.indexOf(a(this).text())?a(this).removeClass("active"):a(this).addClass("active")}))))):2===c.code?i.isEmpty(b)?this.$(".zl-cc-city").removeClass("active"):this.$(".zl-cc-city").each(function(){return-1===b.indexOf(a(this).text())?a(this).removeClass("active"):a(this).addClass("active")}):3===c.code&&(i.isEmpty(b)?this.$(".zl-cc-country").removeClass("active"):this.$(".zl-cc-country").each(function(){return-1===b.indexOf(a(this).text())?a(this).removeClass("active"):a(this).addClass("active")}))),this},c.prototype.render=function(b,c){var d,e,f;for(f=this.oTarget,f.addClass("hover").siblings().removeClass("hover"),e=f.parent();e.next().length;)e.next().remove();return d=a(this.createDom(b,c)),d.find(".zl-cc-country").length&&d.css("width","auto"),d.insertAfter(e),this},c.prototype.createDom=function(a,b){var c,d,e;return d='<div class="list-group">',e="",c=this.liMap,i.each(a,function(a){return function(e){var f;return f=c[e.type||"city"],i.isFunction(f)?d+=f.call(a,e,b):void 0}}(this)),d+="</div>"},c.prototype.filterData=function(a,b){var c,d,e,f;if(b){for(d=[],e=0,f=a.length;f>e;e++)c=a[e],(c.pinyin.indexOf(b)>-1||c.letter.indexOf(b)>-1)&&d.push(c);return d}return a},c}(c)})}(function(a){if("undefined"!=typeof CitySelection&&"leozhao"===CitySelection.author)return console.error("CitySelection已经存在，请勿重复引入！");if("function"==typeof define){if(define.amd)return define("city-selection",["jquery"],a);if(define.cmd)return define("city-selection",["jquery"],function(b){var c;return c=b("jquery"),a(c)})}return"function"==typeof $?window.CitySelection=a($):console.error("jQuery没有找到，CitySelection无法进行初始化！请确认文件引入和引入顺序！")});